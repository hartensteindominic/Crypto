<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Rocket Launch</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #000; color: #0ff; overflow-x: hidden; }
        header { background: linear-gradient(135deg, #001f3f, #0074d9); padding: 100px 20px; text-align: center; position: relative; }
        h1 { font-size: 4rem; text-shadow: 0 0 30px #0ff; }
        canvas { position: absolute; inset: 0; z-index: -1; pointer-events: none; }
        .container { max-width: 1000px; margin: 40px auto; padding: 20px; background: rgba(0,0,0,0.6); border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid #0ff; }
        .feature { background: rgba(0,255,255,0.1); border-radius: 15px; padding: 20px; margin: 15px; transition: all 0.3s; }
        .feature:hover { transform: scale(1.05); box-shadow: 0 0 25px #0ff; }
        .launch-btn { padding: 18px 50px; font-size: 1.5rem; background: linear-gradient(90deg, #ff4500, #ff8c00); border: none; border-radius: 50px; color: white; box-shadow: 0 0 30px #ff4500; cursor: pointer; transition: all 0.3s; }
        .launch-btn:hover { transform: scale(1.1); box-shadow: 0 0 50px #ff4500; }
        .launch-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        #status { min-height: 80px; font-size: 1.3rem; margin: 20px 0; text-align: center; }
        .success { color: #0f0; text-shadow: 0 0 15px #0f0; }
        .fail { color: #f00; text-shadow: 0 0 15px #f00; }
        footer { text-align: center; padding: 30px; font-size: 0.9rem; background: #000; }
    </style>
</head>
<body>
    <canvas id="stars"></canvas>

    <header class="animate__animated animate__fadeInDown">
        <h1>Crypto Rocket Launch</h1>
        <p class="lead">Fuel the rocket → Launch to the stars → Support the mission!</p>
    </header>

    <div class="container animate__animated animate__fadeIn">
        <div class="row text-center">
            <div class="col-md-4"><div class="feature"><i class="fas fa-rocket fa-4x mb-3" style="color:#ff4500"></i><h4>Instant Boost</h4><p>Fuel with ETH → Rocket launches immediately!</p></div></div>
            <div class="col-md-4"><div class="feature"><i class="fas fa-star fa-4x mb-3" style="color:#0ff"></i><h4>Epic Rewards</h4><p>Success = cosmic celebration + project powered up!</p></div></div>
            <div class="col-md-4"><div class="feature"><i class="fas fa-wallet fa-4x mb-3" style="color:#ff0"></i><h4>MetaMask Ready</h4><p>Connect → Choose fuel → Launch!</p></div></div>
        </div>

        <div class="text-center my-5">
            <h3>Fuel the Rocket (ETH)</h3>
            <p>Min: 0.001 ETH | Max: 0.1 ETH per launch (keeps it fun & safe!)</p>

            <button id="connect" class="btn btn-lg btn-info mb-3">Connect Wallet</button>
            <div id="wallet-info" class="mb-3"></div>

            <input type="number" id="fuel" class="form-control form-control-lg mb-3 bg-dark text-light border-info" placeholder="Fuel amount (0.001 - 0.1 ETH)" step="0.001" min="0.001" max="0.1">
            <button id="launch" class="launch-btn" disabled>LAUNCH ROCKET!</button>

            <div id="status"></div>
        </div>

        <!-- Fiat fallback -->
        <div class="text-center mt-5">
            <h4>Or Support with Fiat</h4>
            <form action="https://www.paypal.com/donate" method="post" target="_top">
                <input type="hidden" name="hosted_button_id" value="YOUR_PAYPAL_BUTTON_ID_HERE" />
                <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="Donate with PayPal" />
            </form>
        </div>
    </div>

    <footer>
        © 2026 Dominic • Powered by Ethereum • Launches are final & on-chain
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Starfield background
        const canvas = document.getElementById('stars');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

        const stars = [];
        for (let i = 0; i < 300; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 2 + 0.5,
                speed: Math.random() * 0.5 + 0.1
            });
        }

        function drawStars() {
            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#fff';
            stars.forEach(s => {
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                ctx.fill();
                s.y += s.speed;
                if (s.y > canvas.height) s.y = 0;
            });
            requestAnimationFrame(drawStars);
        }
        drawStars();

        // Game logic
        const RECIPIENT = '0x02f93c7547309ca50EEAB446DaEBE8ce8E694cBb'; // hidden
        let web3, account;
        const connectBtn = document.getElementById('connect');
        const launchBtn = document.getElementById('launch');
        const fuelInput = document.getElementById('fuel');
        const status = document.getElementById('status');
        const walletInfo = document.getElementById('wallet-info');

        connectBtn.onclick = async () => {
            if (!window.ethereum) return alert('Install MetaMask!');
            web3 = new Web3(window.ethereum);
            try {
                const acc = await ethereum.request({ method: 'eth_requestAccounts' });
                account = acc[0];
                const chain = await web3.eth.getChainId();
                walletInfo.innerHTML = `Connected: ${account.slice(0,6)}...${account.slice(-4)} ${chain !== 1 ? '<br><span style="color:#f00">(Switch to Ethereum Mainnet)</span>' : ''}`;
                launchBtn.disabled = false;
                connectBtn.textContent = 'Wallet Ready';
                connectBtn.disabled = true;
            } catch (e) { walletInfo.innerHTML = `<span style="color:#f00">Failed: ${e.message}</span>`; }
        };

        launchBtn.onclick = async () => {
            const amtStr = fuelInput.value;
            const amt = parseFloat(amtStr);
            if (isNaN(amt) || amt < 0.001 || amt > 0.1) return status.innerHTML = '<span style="color:#ff0">Fuel must be 0.001–0.1 ETH!</span>';

            launchBtn.disabled = true;
            status.innerHTML = '<span class="text-info">Igniting engines...</span>';

            try {
                const wei = web3.utils.toWei(amtStr, 'ether');
                const gas = await web3.eth.estimateGas({from: account, to: RECIPIENT, value: wei});
                const tx = await web3.eth.sendTransaction({from: account, to: RECIPIENT, value: wei, gas});

                // Game outcome: higher fuel = higher success chance
                const successChance = Math.min(95, 50 + (amt * 450)); // 0.001→~50%, 0.1→95%
                const isSuccess = Math.random() * 100 < successChance;

                if (isSuccess) {
                    status.innerHTML = `<span class="success animate__animated animate__tada">LAUNCH SUCCESS! Rocket to the stars!<br>Tx: <a href="https://etherscan.io/tx/${tx.transactionHash}" target="_blank" style="color:#0f0">${tx.transactionHash.slice(0,10)}...</a></span>`;
                } else {
                    status.innerHTML = `<span class="fail animate__animated animate__shakeX">CRASH! Needs more fuel next time...<br>Tx still sent: <a href="https://etherscan.io/tx/${tx.transactionHash}" target="_blank" style="color:#f00">${tx.transactionHash.slice(0,10)}...</a></span>`;
                }
            } catch (e) {
                status.innerHTML = `<span style="color:#f00">Launch aborted: ${e.message}</span>`;
            } finally {
                launchBtn.disabled = false;
            }
        };
    </script>
</body>
</html>
