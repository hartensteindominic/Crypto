<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Pay - Support & Donate</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #0a0a0a; color: #e0e0e0; overflow-x: hidden; }
        header { background: linear-gradient(135deg, #1e3c72, #2a5298); padding: 120px 20px; text-align: center; position: relative; overflow: hidden; }
        header::before { content: ''; position: absolute; inset: 0; background: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"%3E%3Cpath d="M40 0L0 40l40 40 40-40L40 0z" fill="%23ffffff" opacity="0.08"/%3E%3C/svg%3E') repeat; animation: float 15s infinite linear; }
        @keyframes float { 0% { background-position: 0 0; } 100% { background-position: 80px 80px; } }
        h1 { font-size: 3.5rem; text-shadow: 0 0 15px rgba(255,255,255,0.6); }
        .container { max-width: 1100px; margin: 50px auto; padding: 0 15px; }
        .feature-card { background: rgba(255,255,255,0.08); border-radius: 16px; padding: 25px; margin-bottom: 25px; transition: all 0.4s; backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.1); }
        .feature-card:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,180,219,0.25); }
        .payment-section { text-align: center; margin: 80px 0; }
        .payment-button { padding: 16px 40px; background: linear-gradient(90deg, #00b4db, #0083b0); color: white; font-size: 1.3rem; border: none; border-radius: 50px; transition: all 0.3s; box-shadow: 0 8px 25px rgba(0,180,219,0.4); cursor: pointer; }
        .payment-button:hover { transform: translateY(-4px); box-shadow: 0 12px 35px rgba(0,180,219,0.6); }
        .payment-button:disabled { opacity: 0.6; cursor: not-allowed; }
        #tx-status { min-height: 60px; margin-top: 15px; font-weight: 500; }
        .status-success { color: #00ff9d; }
        .status-error { color: #ff6b6b; }
        footer { background: #0d0d0d; padding: 30px; text-align: center; font-size: 0.9rem; }
        #particles-js { position: fixed; inset: 0; z-index: -1; }
    </style>
</head>
<body>
    <div id="particles-js"></div>

    <header class="animate__animated animate__fadeIn">
        <h1>Crypto Pay</h1>
        <p class="lead animate__animated animate__fadeIn" style="animation-delay: 0.6s;">Empower projects with instant, borderless support — fiat or on-chain ETH donations</p>
    </header>

    <div class="container">
        <h2 class="text-center mb-5 animate__animated animate__zoomIn">Why Donate Here?</h2>
        <div class="row g-4">
            <div class="col-md-4"><div class="feature-card animate__animated animate__fadeInLeft"><i class="fas fa-rocket fa-3x mb-3 text-info"></i><h4>Instant & Borderless</h4><p>Send ETH directly from your wallet — no intermediaries.</p></div></div>
            <div class="col-md-4"><div class="feature-card animate__animated animate__fadeInUp"><i class="fas fa-shield-halved fa-3x mb-3 text-success"></i><h4>Fully On-Chain</h4><p>Transparent, immutable — view every transaction on Etherscan.</p></div></div>
            <div class="col-md-4"><div class="feature-card animate__animated animate__fadeInRight"><i class="fas fa-wallet fa-3x mb-3 text-warning"></i><h4>MetaMask Ready</h4><p>Connect once, donate any amount with estimated gas shown.</p></div></div>
        </div>

        <div class="payment-section animate__animated animate__bounceIn" style="animation-delay: 0.4s;">
            <h2>Support This Project</h2>
            <p class="mb-4">All ETH sent goes directly to: <strong>0x02f93c7547309ca50EEAB446DaEBE8ce8E694cBb</strong></p>

            <!-- PayPal (fiat option) -->
            <h4 class="mt-5">Fiat via PayPal</h4>
            <form action="https://www.paypal.com/donate" method="post" target="_top" class="my-4">
                <input type="hidden" name="hosted_button_id" value="YOUR_PAYPAL_BUTTON_ID_HERE" />
                <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="Donate with PayPal" />
            </form>

            <!-- Wallet Connect + Send ETH -->
            <h4>Or Connect Wallet & Send ETH</h4>
            <div class="mt-4" style="max-width: 420px; margin: 0 auto;">
                <button id="connect-wallet" class="payment-button mb-3 w-100">Connect MetaMask</button>
                <div id="wallet-status" class="mb-3 text-center"></div>

                <input type="number" id="amount" class="form-control mb-3 bg-dark text-white border-secondary" placeholder="Amount in ETH (e.g. 0.05)" step="0.0001" min="0.0001">
                <div id="gas-estimate" class="small mb-3 text-muted text-center"></div>

                <button id="send-transaction" class="payment-button w-100" disabled>Deposit ETH</button>
                <div id="tx-status" class="mt-4 text-center"></div>
            </div>
        </div>
    </div>

    <footer>
        <p>© 2026 Dominic • Powered by Ethereum • All donations final & on-chain</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        particlesJS('particles-js', {
            particles: { number: {value: 70}, color: {value: '#ffffff'}, shape: {type: 'circle'}, opacity: {value: 0.4}, size: {value: 3}, line_linked: {enable: true, distance: 120, color: '#ffffff', opacity: 0.3}, move: {enable: true, speed: 4} },
            interactivity: { detect_on: 'canvas', events: { onhover: {enable: true, mode: 'repulse'} } },
            retina_detect: true
        });
    </script>

    <script>
        const RECIPIENT = '0x02f93c7547309ca50EEAB446DaEBE8ce8E694cBb';
        const ETHERSCAN_BASE = 'https://etherscan.io/tx/';
        let web3, account;

        const connectBtn = document.getElementById('connect-wallet');
        const sendBtn = document.getElementById('send-transaction');
        const amountInput = document.getElementById('amount');
        const gasDiv = document.getElementById('gas-estimate');
        const statusDiv = document.getElementById('tx-status');
        const walletStatus = document.getElementById('wallet-status');

        async function initWeb3() {
            if (!window.ethereum) {
                walletStatus.innerHTML = '<span class="status-error">MetaMask not detected. Please install it.</span>';
                return;
            }
            web3 = new Web3(window.ethereum);
        }

        connectBtn.onclick = async () => {
            try {
                await initWeb3();
                const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
                account = accounts[0];
                const chainId = await web3.eth.getChainId();
                walletStatus.innerHTML = `Connected: ${account.slice(0,6)}...${account.slice(-4)}`;
                if (chainId !== 1) {
                    walletStatus.innerHTML += ' <span class="status-error">(Switch to Ethereum Mainnet)</span>';
                }
                sendBtn.disabled = false;
                connectBtn.textContent = 'Wallet Connected';
                connectBtn.disabled = true;
            } catch (err) {
                walletStatus.innerHTML = `<span class="status-error">Connection failed: ${err.message}</span>`;
            }
        };

        amountInput.oninput = async () => {
            if (!web3 || !account || !amountInput.value || parseFloat(amountInput.value) <= 0) {
                gasDiv.textContent = '';
                return;
            }
            try {
                const wei = web3.utils.toWei(amountInput.value, 'ether');
                const gas = await web3.eth.estimateGas({ from: account, to: RECIPIENT, value: wei });
                const gasPrice = await web3.eth.getGasPrice();
                const estFee = web3.utils.fromWei((BigInt(gas) * BigInt(gasPrice)).toString(), 'ether');
                gasDiv.textContent = `Estimated gas fee: ~${parseFloat(estFee).toFixed(6)} ETH`;
            } catch (err) {
                gasDiv.textContent = 'Gas estimation failed — check amount/network';
            }
        };

        sendBtn.onclick = async () => {
            const amt = amountInput.value;
            if (!amt || parseFloat(amt) <= 0) return alert('Enter a valid amount');
            sendBtn.disabled = true;
            statusDiv.innerHTML = '<span class="text-info">Preparing transaction...</span>';

            try {
                const wei = web3.utils.toWei(amt, 'ether');
                const gas = await web3.eth.estimateGas({ from: account, to: RECIPIENT, value: wei });
                const gasPrice = await web3.eth.getGasPrice();

                const txHash = await web3.eth.sendTransaction({
                    from: account,
                    to: RECIPIENT,
                    value: wei,
                    gas,
                    gasPrice
                });

                statusDiv.innerHTML = `<span class="status-success">Success! Tx: <a href="${ETHERSCAN_BASE}${txHash.transactionHash}" target="_blank" style="color:#00ff9d;">${txHash.transactionHash.slice(0,10)}...</a></span>`;
            } catch (err) {
                statusDiv.innerHTML = `<span class="status-error">Failed: ${err.message}</span>`;
            } finally {
                sendBtn.disabled = false;
            }
        };
    </script>
</body>
</html>
